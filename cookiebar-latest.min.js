var CookieLanguages=["bg","br","ca","cs","da","de","el","en","es","fi","fr","hr","hu","it","nl","no","oc","pl","pt","ro","ru","se","sk","sl","tr"];var cookieLawStates=["AT","BE","BG","BR","CY","CZ","DE","DK","EE","EL","ES","FI","FR","GB","HR","HU","IE","IT","LT","LU","LV","MT","NL","NO","PL","PT","RO","SE","SI","SK"];function setupCookieBar(){var q=x();var n;var b;var y;var t;var a;var h;var w;var f=true;var k=false;var e=z();if(e=="CookieDisallowed"){j();r("cookiebar","CookieDisallowed")}if(e!==undefined){return}if(A("noGeoIp")){f=true;d()}else{var s=new XMLHttpRequest();s.open("GET","https://freegeoip.app/json/",true);s.onreadystatechange=function(){if(s.readyState!==4){return}clearTimeout(o);if(s.status===200){var C=JSON.parse(s.responseText).country_code;if(cookieLawStates.indexOf(C)>-1){f=true}else{k=true;r("cookiebar","CookieAllowed");if(A("refreshPage")){window.location.reload()}}}else{f=true}d()};var o=setTimeout(function(){console.log("cookieBAR - Timeout for ip geolocation");s.onreadystatechange=function(){};s.abort();f=true;d()},1500);s.send()}function d(){if(document.cookie.length>0||(window.localStorage!==null&&window.localStorage.length>0)){var C=z();if(C===undefined){f=true}else{k=true}}else{f=false}if(A("always")){f=true}if(f===true&&k===false){l()}}function l(){var C=g();var G="";if(A("theme")){G="-"+A("theme")}var F=q.replace(/[^\/]*$/,"");var H=(q.indexOf(".min")>-1)?".min":"";var D=document.createElement("link");D.setAttribute("rel","stylesheet");D.setAttribute("href",F+"themes/cookiebar"+G+H+".css");document.head.appendChild(D);var E=new XMLHttpRequest();E.open("GET",F+"lang/"+C+".html",true);E.onreadystatechange=function(){if(E.readyState===4&&E.status===200){var I=document.createElement("div");I.innerHTML=E.responseText;document.getElementsByTagName("body")[0].appendChild(I);n=document.getElementById("cookie-bar");b=document.getElementById("cookie-bar-button");y=document.getElementById("cookie-bar-button-no");t=document.getElementById("cookie-bar-prompt");a=document.getElementById("cookie-bar-prompt-button");h=document.getElementById("cookie-bar-prompt-close");promptContent=document.getElementById("cookie-bar-prompt-content");w=document.getElementById("cookie-bar-no-consent");thirdparty=document.getElementById("cookie-bar-thirdparty");tracking=document.getElementById("cookie-bar-tracking");customize=document.getElementById("cookie-bar-customize-block");buttonCustomize=document.getElementById("cookie-bar-button-customize");buttonSaveCustomized=document.getElementById("cookiebar-save-customized");customizeBlock=document.getElementById("cookie-bar-customize-block");customizeTracking=document.getElementById("cookiebar-tracking-input");customizeThirdParty=document.getElementById("cookiebar-third-party-input");scrolling=document.getElementById("cookie-bar-scrolling");privacyPage=document.getElementById("cookie-bar-privacy-page");privacyLink=document.getElementById("cookie-bar-privacy-link");mainBarPrivacyLink=document.getElementById("cookie-bar-main-privacy-link");if(!A("showNoConsent")){w.style.display="none";y.style.display="none"}if(A("showCustomConsent")){buttonCustomize.style.display="none"}if(A("blocking")){u(t,500);h.style.display="none"}if(A("thirdparty")){thirdparty.style.display="block";customizeThirdParty.style.display="block"}else{thirdparty.style.display="none";customizeThirdParty.style.display="none"}if(A("tracking")){tracking.style.display="block";customizeTracking.style.display="block"}else{tracking.style.display="none";customizeTracking.style.display="none"}if(A("hideDetailsBtn")){a.style.display="none"}if(A("scrolling")){scrolling.style.display="inline-block"}if(A("top")){n.style.top=0;p("top")}else{n.style.bottom=0;p("bottom")}if(A("privacyPage")){privacyLink.href=v();privacyPage.style.display="inline-block"}if(A("showPolicyLink")&&A("privacyPage")){mainBarPrivacyLink.href=v();mainBarPrivacyLink.style.display="inline-block"}if(A("customize")){customizeBlock.style.display="block";buttonCustomize.style.display="block"}else{customizeBlock.style.display="none";buttonCustomize.style.display="none"}m();u(n,250);p()}};E.send()}function v(){return decodeURIComponent(A("privacyPage"))}function x(){var C=document.getElementsByTagName("script");for(i=0;i<C.length;i+=1){if(C[i].hasAttribute("src")){path=C[i].src;if(path.indexOf("cookiebar")>-1){return path}}}}function g(){var C=A("forceLang");if(C===false){C=document.documentElement.lang||navigator.language||navigator.userLanguage}C=C.substr(0,2);if(CookieLanguages.indexOf(C)<0){C="en"}return C}function z(){var C=document.cookie.match(/(;)?cookiebar=([^;]*);?/);if(C==null){return undefined}else{return decodeURI(C[2])}}function r(C,F){var E=30;if(A("remember")){E=A("remember")}var G=new Date();G.setDate(G.getDate()+parseInt(E));var D=encodeURI(F)+((E===null)?"":"; expires="+G.toUTCString()+";path=/");document.cookie=C+"="+D}function j(){document.cookie.split(";").forEach(function(C){document.cookie=C.replace(/^\ +/,"").replace(/\=.*/,"=;expires="+new Date().toUTCString()+";path=/")});if(localStorage!==null){localStorage.clear()}}function u(D,E){var C=D.style;C.opacity=0;C.display="block";(function F(){(C.opacity-=-0.1)>0.9?null:setTimeout(F,(E/10))})()}function c(D,E){var C=D.style;C.opacity=1;(function F(){(C.opacity-=0.1)<0.1?C.display="none":setTimeout(F,(E/10))})()}function p(C){setTimeout(function(){var E=document.getElementById("cookie-bar").clientHeight;var F=document.getElementsByTagName("body")[0];var D=F.currentStyle||window.getComputedStyle(F);switch(C){case"top":F.style.marginTop=(parseInt(D.marginTop)+E)+"px";break;case"bottom":F.style.marginBottom=(parseInt(D.marginBottom)+E)+"px";break}},300)}function B(){var D=document.getElementById("cookie-bar").clientHeight;if(A("top")){var E=parseInt(document.getElementsByTagName("body")[0].style.marginTop);document.getElementsByTagName("body")[0].style.marginTop=E-D+"px"}else{var C=parseInt(document.getElementsByTagName("body")[0].style.marginBottom);document.getElementsByTagName("body")[0].style.marginBottom=C-D+"px"}}function A(C){var D=q.split(C+"=");if(D[1]){return D[1].split(/[&?]+/)[0]}else{return false}}function m(){b.addEventListener("click",function(){r("cookiebar","CookieAllowed");B();c(t,250);c(n,250);if(A("refreshPage")){window.location.reload()}});y.addEventListener("click",function(){var E=w.textContent.trim();var F=true;if(!A("noConfirm")){F=window.confirm(E)}if(F===true){j();r("cookiebar","CookieDisallowed");B();c(t,250);c(n,250)}});buttonSaveCustomized.addEventListener("click",function(){r("cookiebar","CookieCustomized");r("cookiebar-tracking",document.getElementById("cookiebar-tracking").checked);r("cookiebar-third-barty",document.getElementById("cookiebar-third-party").checked);B();c(t,250);c(n,250);if(A("refreshPage")){window.location.reload()}});a.addEventListener("click",function(){u(t,250)});h.addEventListener("click",function(){c(customize,0);c(t,250)});buttonCustomize.addEventListener("click",function(){u(customize,0);u(t,250)});if(A("scrolling")){var D=document.body.getBoundingClientRect().top;var C=false;window.addEventListener("scroll",function(){if(C===false){if(document.body.getBoundingClientRect().top-D>250||document.body.getBoundingClientRect().top-D<-250){r("cookiebar","CookieAllowed");B();c(t,250);c(n,250);C=true;if(A("refreshPage")){window.location.reload()}}}})}}}document.addEventListener("DOMContentLoaded",function(){setupCookieBar()});