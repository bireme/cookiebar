var CookieLanguages=["bg","br","ca","cs","da","de","el","en","es","fi","fr","hr","hu","it","nl","no","oc","pl","pt","ro","ru","se","sk","sl","tr"];var cookieLawStates=["AT","BE","BG","BR","CY","CZ","DE","DK","EE","EL","ES","FI","FR","GB","HR","HU","IE","IT","LT","LU","LV","MT","NL","NO","PL","PT","RO","SE","SI","SK"];function setupCookieBar(){var q=x();var n;var b;var z;var t;var a;var h;var w;var f=true;var k=false;var y=true;var e=A();if(e=="CookieDisallowed"){j();r("cookiebar","CookieDisallowed")}if(e!==undefined){return}if(y||B("noGeoIp")){f=true;d()}else{var s=new XMLHttpRequest();s.open("GET","https://freegeoip.app/json/",true);s.onreadystatechange=function(){if(s.readyState!==4){return}clearTimeout(o);if(s.status===200){var D=JSON.parse(s.responseText).country_code;if(cookieLawStates.indexOf(D)>-1){f=true}else{k=true;r("cookiebar","CookieAllowed");if(B("refreshPage")){window.location.reload()}}}else{f=true}d()};var o=setTimeout(function(){console.log("cookieBAR - Timeout for ip geolocation");s.onreadystatechange=function(){};s.abort();f=true;d()},1500);s.send()}function d(){if(document.cookie.length>0||(window.localStorage!==null&&window.localStorage.length>0)){var D=A();if(D===undefined){f=true}else{k=true}}else{f=false}if(B("always")){f=true}if(f===true&&k===false){l()}}function l(){var D=g();var H="";if(B("theme")){H="-"+B("theme")}var G=q.replace(/[^\/]*$/,"");var I=(q.indexOf(".min")>-1)?".min":"";var E=document.createElement("link");E.setAttribute("rel","stylesheet");E.setAttribute("href",G+"themes/cookiebar"+H+I+".css");document.head.appendChild(E);var F=new XMLHttpRequest();F.open("GET",G+"lang/"+D+".html",true);F.onreadystatechange=function(){if(F.readyState===4&&F.status===200){var J=document.createElement("div");J.innerHTML=F.responseText;document.getElementsByTagName("body")[0].appendChild(J);n=document.getElementById("cookie-bar");b=document.getElementById("cookie-bar-button");z=document.getElementById("cookie-bar-button-no");t=document.getElementById("cookie-bar-prompt");a=document.getElementById("cookie-bar-prompt-button");h=document.getElementById("cookie-bar-prompt-close");promptContent=document.getElementById("cookie-bar-prompt-content");w=document.getElementById("cookie-bar-no-consent");thirdparty=document.getElementById("cookie-bar-thirdparty");tracking=document.getElementById("cookie-bar-tracking");customize=document.getElementById("cookie-bar-customize-block");buttonCustomize=document.getElementById("cookie-bar-button-customize");buttonSaveCustomized=document.getElementById("cookiebar-save-customized");customizeBlock=document.getElementById("cookie-bar-customize-block");customizeTracking=document.getElementById("cookiebar-tracking-input");customizeThirdParty=document.getElementById("cookiebar-third-party-input");scrolling=document.getElementById("cookie-bar-scrolling");privacyPage=document.getElementById("cookie-bar-privacy-page");privacyLink=document.getElementById("cookie-bar-privacy-link");mainBarPrivacyLink=document.getElementById("cookie-bar-main-privacy-link");if(!B("showNoConsent")){w.style.display="none";z.style.display="none"}if(B("showCustomConsent")){buttonCustomize.style.display="none"}if(B("blocking")){u(t,500);h.style.display="none"}if(B("thirdparty")){thirdparty.style.display="block";customizeThirdParty.style.display="block"}else{thirdparty.style.display="none";customizeThirdParty.style.display="none"}if(B("tracking")){tracking.style.display="block";customizeTracking.style.display="block"}else{tracking.style.display="none";customizeTracking.style.display="none"}if(B("hideDetailsBtn")){a.style.display="none"}if(B("scrolling")){scrolling.style.display="inline-block"}if(B("top")){n.style.top=0;p("top")}else{n.style.bottom=0;p("bottom")}if(B("privacyPage")){privacyLink.href=v();privacyPage.style.display="inline-block"}if(B("showPolicyLink")&&B("privacyPage")){mainBarPrivacyLink.href=v();mainBarPrivacyLink.style.display="inline-block"}if(B("customize")){customizeBlock.style.display="block";buttonCustomize.style.display="block"}else{customizeBlock.style.display="none";buttonCustomize.style.display="none"}m();u(n,250);p()}};F.send()}function v(){return decodeURIComponent(B("privacyPage"))}function x(){var D=document.getElementsByTagName("script");for(i=0;i<D.length;i+=1){if(D[i].hasAttribute("src")){path=D[i].src;if(path.indexOf("cookiebar")>-1){return path}}}}function g(){var D=B("forceLang");if(D===false){D=document.documentElement.lang||navigator.language||navigator.userLanguage}D=D.substr(0,2);if(CookieLanguages.indexOf(D)<0){D="en"}return D}function A(){var D=document.cookie.match(/(;)?cookiebar=([^;]*);?/);if(D==null){return undefined}else{return decodeURI(D[2])}}function r(D,G){var F=30;if(B("remember")){F=B("remember")}var H=new Date();H.setDate(H.getDate()+parseInt(F));var E=encodeURI(G)+((F===null)?"":"; expires="+H.toUTCString()+";path=/");document.cookie=D+"="+E}function j(){document.cookie.split(";").forEach(function(D){document.cookie=D.replace(/^\ +/,"").replace(/\=.*/,"=;expires="+new Date().toUTCString()+";path=/")});if(localStorage!==null){localStorage.clear()}}function u(E,F){var D=E.style;D.opacity=0;D.display="block";(function G(){(D.opacity-=-0.1)>0.9?null:setTimeout(G,(F/10))})()}function c(E,F){var D=E.style;D.opacity=1;(function G(){(D.opacity-=0.1)<0.1?D.display="none":setTimeout(G,(F/10))})()}function p(D){setTimeout(function(){var F=document.getElementById("cookie-bar").clientHeight;var G=document.getElementsByTagName("body")[0];var E=G.currentStyle||window.getComputedStyle(G);switch(D){case"top":G.style.marginTop=(parseInt(E.marginTop)+F)+"px";break;case"bottom":G.style.marginBottom=(parseInt(E.marginBottom)+F)+"px";break}},300)}function C(){var E=document.getElementById("cookie-bar").clientHeight;if(B("top")){var F=parseInt(document.getElementsByTagName("body")[0].style.marginTop);document.getElementsByTagName("body")[0].style.marginTop=F-E+"px"}else{var D=parseInt(document.getElementsByTagName("body")[0].style.marginBottom);document.getElementsByTagName("body")[0].style.marginBottom=D-E+"px"}}function B(D){var E=q.split(D+"=");if(E[1]){return E[1].split(/[&?]+/)[0]}else{return false}}function m(){b.addEventListener("click",function(){r("cookiebar","CookieAllowed");C();c(t,250);c(n,250);if(B("refreshPage")){window.location.reload()}});z.addEventListener("click",function(){var F=w.textContent.trim();var G=true;if(!B("noConfirm")){G=window.confirm(F)}if(G===true){j();r("cookiebar","CookieDisallowed");C();c(t,250);c(n,250)}});buttonSaveCustomized.addEventListener("click",function(){r("cookiebar","CookieCustomized");r("cookiebar-tracking",document.getElementById("cookiebar-tracking").checked);r("cookiebar-third-barty",document.getElementById("cookiebar-third-party").checked);C();c(t,250);c(n,250);if(B("refreshPage")){window.location.reload()}});a.addEventListener("click",function(){u(t,250)});h.addEventListener("click",function(){c(customize,0);c(t,250)});buttonCustomize.addEventListener("click",function(){u(customize,0);u(t,250)});if(B("scrolling")){var E=document.body.getBoundingClientRect().top;var D=false;window.addEventListener("scroll",function(){if(D===false){if(document.body.getBoundingClientRect().top-E>250||document.body.getBoundingClientRect().top-E<-250){r("cookiebar","CookieAllowed");C();c(t,250);c(n,250);D=true;if(B("refreshPage")){window.location.reload()}}}})}}}document.addEventListener("DOMContentLoaded",function(){setupCookieBar()});